{% extends 'base.html' %}
{% load static %}
{% block title %}Adicionar Produto | GearVault{% endblock %}

{% block content %}
<div class="container-fluid" id="main-content-panel">
  <div class="row">
    <div class="col-md-2" id="sidebar-panel">
      {% include 'sidebar.html' %}
    </div>
    <div class="col-md-10 mt-4" id="painel-content">
      <div class="row justify-content-center">
        <div class="col-md-8">
          <div class="card" style="border: 1px solid #083D77;">
            <div class="card-header text-white" style="background-color: #083D77;">
              <h5 class="mb-0">Adicionar Novo Produto</h5>
            </div>
            <div class="card-body">
              {% if messages %}
                {% for message in messages %}
                  <div class="alert alert-{{ message.tags }}">{{ message }}</div>
                {% endfor %}
              {% endif %}
              <form method="post" autocomplete="off">
                {% csrf_token %}
                <div class="row">
                  <div class="col-md-6 mb-3">
                    <label for="id_nome" class="form-label"><strong>Nome</strong></label>
                    <input type="text" class="form-control" id="id_nome" name="nome" required maxlength="100" placeholder="Nome do produto">
                  </div>
                  <div class="col-md-6 mb-3">
                    <label for="id_codigo" class="form-label"><strong>Código</strong></label>
                    <input type="text" class="form-control" id="id_codigo" name="codigo" required maxlength="50" placeholder="Código interno ou do fabricante">
                  </div>
                  <div class="col-md-6 mb-3">
                    <label for="id_fornecedor" class="form-label"><strong>Fornecedor</strong></label>
                    <select class="form-select" id="id_fornecedor" name="fornecedor">
                      <option value="">Selecione</option>
                      {% for fornecedor in fornecedores %}
                        <option value="{{ fornecedor.id }}">{{ fornecedor.nome }}</option>
                      {% endfor %}
                    </select>
                  </div>
                  <div class="col-md-6 mb-3">
                    <label for="id_imagem" class="form-label">Imagem</label>
                    <input type="file" class="form-control" id="id_imagem" name="imagem" accept="image/*">
                  </div>
                  <div class="col-12 mb-3">
                    <label for="id_descricao" class="form-label">Descrição</label>
                    <textarea class="form-control" id="id_descricao" name="descricao" rows="2" maxlength="255" placeholder="Descrição do produto (opcional)"></textarea>
                  </div>
                </div>
                <div class="d-flex justify-content-end">
                  <button type="submit" class="btn text-white" style="background-color: #083D77;">Salvar Produto</button>
                </div>
              </form>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<style>
  #painel-content {
    transition: width 0.3s cubic-bezier(0.4,0,0.2,1), margin-left 0.3s cubic-bezier(0.4,0,0.2,1);
  }
  #sidebar-panel {
    transition: width 0.3s cubic-bezier(0.4,0,0.2,1), display 0.3s cubic-bezier(0.4,0,0.2,1);
  }
</style>
<script src="{% static 'painel-content-resize.js' %}"></script>
{% endblock %}
